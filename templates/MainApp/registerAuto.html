{% extends 'base/baseUsuario.html' %}

{% block content %}
    <style>
        /* Botones */
        .btn-primary {
            background-color: #8C182D !important;
            border-color: #8C182D !important;
        }

        .btn-primary:hover {
            background-color: hsl(350, 72%, 55%) !important;
            border-color: hsl(350, 72%, 55%) !important;
        }

        .btn-primary:active {
            background-color: hsl(350, 72%, 55%) !important;
            border-color: hsl(350, 72%, 55%) !important;
        }

        .btn-primary:focus {
            background-color: hsl(350, 72%, 55%) !important;
            border-color: hsl(350, 72%, 55%) !important;
            box-shadow: none !important;
        }

        .text-center {
            margin-top: 20px;
        }

        /* Fuente normal para los labels y placeholders */
        label, ::placeholder {
            font-weight: normal;
            font-style: normal;
        }
    </style>

    <div class="container mt-5">
        <h1 class="mt-5 text-center" style="color: #2D2D2D;">Registrar Vehículo</h1>

        <div class="container mt-4 d-flex justify-content-center">
            <form method="post" action="{% url 'registrarAuto' %}" class="w-50" id="register">
                {% csrf_token %}

                <div class="form-group mb-3">
                    <label for="año">Año</label>
                    <input type="text" class="form-control mt-2" id="año" name="año" placeholder="Ingrese el año del auto" required>
                </div>

                <div class="form-group mb-3">
                    <label for="marca">Marca</label>
                    <input type="text" class="form-control mt-2" id="marca" name="marca" placeholder="Ingrese la marca del auto" required>
                </div>

                <div class="form-group mb-3">
                    <label for="modelo">Modelo</label>
                    <input type="text" class="form-control mt-2" id="modelo" name="modelo" placeholder="Ingrese el modelo del auto" required>
                </div>

                <div class="form-group mb-3">
                    <label for="placa">Placa</label>
                    <input type="text" class="form-control mt-2" id="placa" name="placa" placeholder="Ingrese la placa del auto" required>
                    <p id="mensajeError" style="color: red;"></p>
                </div>

                <div class="form-group mb-3">
                    <label for="color">Color</label>
                    <input type="text" class="form-control" id="color" name="color" placeholder="Ingrese el color del auto" required>
                </div>

                <div class="text-center">
                    <button type="submit" class="btn btn-primary custom-btn btn-submit">Guardar</button>
                    <a href="{% url 'mostrarAutos' %}" class="btn btn-secondary custom-btn btn-cancel">Cancelar</a>
                </div>
            </form>
        </div>
    </div>

    <script>
        document.getElementById('register').addEventListener('submit', function (event) {
            const codigo = document.getElementById('placa').value;
            const regex = /^[A-Z]{3}-\d{3,4}$/;

            if (!regex.test(codigo)) {
                event.preventDefault();
                document.getElementById('mensajeError').textContent = 'Placa Incorrecta, ingreselo de la forma XXX-123/XXX-1234';
            } else {
                document.getElementById('mensajeError').textContent = '';
            }
        });
    </script>
{% endblock %}
